syntax = "proto3";

package compilation_cache_service.keyvalue.v1;

// KeyValueDB service for cache key lookups
service KeyValueDB {
  // Query cache by key to check if a cached artifact exists
  rpc GetValue(GetValueRequest) returns (GetValueResponse);
}

// Request message for GetValue RPC
message GetValueRequest {
  // Cache key (content hash derived from source, compiler flags, SDK version, etc.)
  bytes key = 1;
}

// Response message for GetValue RPC
message GetValueResponse {
  // Whether the key was found in the cache
  bool found = 1;

  // Content-addressable storage ID (only present if found=true)
  bytes cas_id = 2;
}
